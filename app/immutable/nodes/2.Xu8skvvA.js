import{s as G,e as W,u as Z,g as ee,f as te,r as be,d as Ee,o as we}from"../chunks/scheduler.z-Fn2YEz.js";import{S as X,i as Y,g as L,s as z,h as N,j as I,c as M,f as w,k as v,a as H,x,A as F,d as j,t as R,B as q,C as K,D as J,E as A,p as ue,b as fe,y as xe,z as ke,e as se,r as me,u as pe,v as he,w as ge,m as _e,n as ve,o as ye}from"../chunks/index.gVW8BMik.js";import{e as ne,u as $e,o as Ce}from"../chunks/each.UI1-pmzy.js";import{f as ae,p as Be}from"../chunks/store.8O7ZUhE7.js";import{i as De,t as Te,r as Le,s as le}from"../chunks/storage.pMVU_F6z.js";const Ne=u=>({}),oe=u=>({}),Ie=u=>({}),ie=u=>({});function Se(u){let t,a,e,l,i,y,p,n,c,C,f;const h=u[2].head,b=W(h,u,u[1],ie),B=u[2].body,s=W(B,u,u[1],oe);return{c(){t=L("button"),a=L("dt"),b&&b.c(),e=z(),l=L("span"),i=z(),y=L("dd"),p=L("ul"),s&&s.c(),this.h()},l(r){t=N(r,"BUTTON",{class:!0});var d=I(t);a=N(d,"DT",{class:!0});var k=I(a);b&&b.l(k),e=M(k),l=N(k,"SPAN",{"aria-expanded":!0,class:!0}),I(l).forEach(w),k.forEach(w),i=M(d),y=N(d,"DD",{"aria-hidden":!0,class:!0});var E=I(y);p=N(E,"UL",{class:!0});var o=I(p);s&&s.l(o),o.forEach(w),E.forEach(w),d.forEach(w),this.h()},h(){v(l,"aria-expanded",u[0]),v(l,"class","trigger svelte-1gg9hqc"),v(a,"class","relative flex w-full justify-between items-center"),v(p,"class","text-left leading-7 text-gray-600 overflow-hidden"),v(y,"aria-hidden",n=!u[0]),v(y,"class","expandable-body svelte-1gg9hqc"),v(t,"class","cursor-pointer w-full flex flex-col px-3 py-2")},m(r,d){H(r,t,d),x(t,a),b&&b.m(a,null),x(a,e),x(a,l),x(t,i),x(t,y),x(y,p),s&&s.m(p,null),c=!0,C||(f=F(t,"click",u[3]),C=!0)},p(r,[d]){b&&b.p&&(!c||d&2)&&Z(b,h,r,r[1],c?te(h,r[1],d,Ie):ee(r[1]),ie),(!c||d&1)&&v(l,"aria-expanded",r[0]),s&&s.p&&(!c||d&2)&&Z(s,B,r,r[1],c?te(B,r[1],d,Ne):ee(r[1]),oe),(!c||d&1&&n!==(n=!r[0]))&&v(y,"aria-hidden",n)},i(r){c||(j(b,r),j(s,r),c=!0)},o(r){R(b,r),R(s,r),c=!1},d(r){r&&w(t),b&&b.d(r),s&&s.d(r),C=!1,f()}}}function Oe(u,t,a){let{$$slots:e={},$$scope:l}=t,i=!1;const y=()=>a(0,i=!i);return u.$$set=p=>{"$$scope"in p&&a(1,l=p.$$scope)},[i,l,e,y]}class ze extends X{constructor(t){super(),Y(this,t,Oe,Se,G,{})}}function re(u,t,a){const e=u.slice();return e[5]=t[a],e}function ce(u){let t,a,e,l=[],i=new Map,y,p,n,c=ne(u[1]);const C=f=>f[5].name;for(let f=0;f<c.length;f+=1){let h=re(u,c,f),b=C(h);i.set(b,l[f]=de(b,h))}return{c(){t=L("div"),a=L("div"),e=L("dl");for(let f=0;f<l.length;f+=1)l[f].c();this.h()},l(f){t=N(f,"DIV",{class:!0});var h=I(t);a=N(h,"DIV",{class:!0});var b=I(a);e=N(b,"DL",{class:!0});var B=I(e);for(let s=0;s<l.length;s+=1)l[s].l(B);B.forEach(w),b.forEach(w),h.forEach(w),this.h()},h(){v(e,"class","divide-y divide-gray-100"),v(a,"class","bg-white rounded-md overflow-y-scroll p-1"),v(t,"class","flex-1 flex flex-col overflow-y-clip")},m(f,h){H(f,t,h),x(t,a),x(a,e);for(let b=0;b<l.length;b+=1)l[b]&&l[b].m(e,null);n=!0},p(f,h){h&2&&(c=ne(f[1]),ue(),l=$e(l,h,C,1,f,c,i,e,Ce,de,null,re),fe())},i(f){if(!n){for(let h=0;h<c.length;h+=1)j(l[h]);f&&Ee(()=>{n&&(p&&p.end(1),y=xe(t,ae,{y:8,duration:300}),y.start())}),n=!0}},o(f){for(let h=0;h<l.length;h+=1)R(l[h]);y&&y.invalidate(),f&&(p=ke(t,ae,{y:8,duration:100})),n=!1},d(f){f&&w(t);for(let h=0;h<l.length;h+=1)l[h].d();f&&p&&p.end()}}}function Me(u){let t=u[5].name+"",a;return{c(){a=_e(t)},l(e){a=ve(e,t)},m(e,l){H(e,a,l)},p(e,l){l&2&&t!==(t=e[5].name+"")&&ye(a,t)},d(e){e&&w(a)}}}function He(u){let t=u[5].values.join(`
`)+"",a;return{c(){a=_e(t)},l(e){a=ve(e,t)},m(e,l){H(e,a,l)},p(e,l){l&2&&t!==(t=e[5].values.join(`
`)+"")&&ye(a,t)},d(e){e&&w(a)}}}function de(u,t){let a,e,l;return e=new ze({props:{$$slots:{body:[He],head:[Me]},$$scope:{ctx:t}}}),{key:u,first:null,c(){a=se(),me(e.$$.fragment),this.h()},l(i){a=se(),pe(e.$$.fragment,i),this.h()},h(){this.first=a},m(i,y){H(i,a,y),he(e,i,y),l=!0},p(i,y){t=i;const p={};y&258&&(p.$$scope={dirty:y,ctx:t}),e.$set(p)},i(i){l||(j(e.$$.fragment,i),l=!0)},o(i){R(e.$$.fragment,i),l=!1},d(i){i&&w(a),ge(e,i)}}}function je(u){let t,a,e,l,i,y,p,n,c,C="Make me sexy! ðŸ¤¤",f,h,b,B,s="Gimme the numbers! ðŸ§®",r,d,k,E,o="Speichern ðŸ“",_,g,D,T,m=u[1].length&&ce(u);return{c(){t=L("aside"),a=L("button"),e=q("svg"),l=q("g"),i=q("path"),y=z(),p=L("div"),n=L("div"),c=L("button"),c.textContent=C,f=z(),h=L("hr"),b=z(),B=L("button"),B.textContent=s,r=z(),d=L("hr"),k=z(),E=L("button"),E.textContent=o,_=z(),m&&m.c(),this.h()},l($){t=N($,"ASIDE",{class:!0});var S=I(t);a=N(S,"BUTTON",{class:!0});var P=I(a);e=K(P,"svg",{height:!0,width:!0,viewBox:!0,class:!0});var V=I(e);l=K(V,"g",{});var Q=I(l);i=K(Q,"path",{fill:!0,d:!0}),I(i).forEach(w),Q.forEach(w),V.forEach(w),P.forEach(w),y=M(S),p=N(S,"DIV",{class:!0});var U=I(p);n=N(U,"DIV",{class:!0});var O=I(n);c=N(O,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),J(c)!=="svelte-ul8kiw"&&(c.textContent=C),f=M(O),h=N(O,"HR",{}),b=M(O),B=N(O,"BUTTON",{class:!0,"data-svelte-h":!0}),J(B)!=="svelte-16an76n"&&(B.textContent=s),r=M(O),d=N(O,"HR",{}),k=M(O),E=N(O,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),J(E)!=="svelte-df4wj3"&&(E.textContent=o),O.forEach(w),_=M(U),m&&m.l(U),U.forEach(w),S.forEach(w),this.h()},h(){v(i,"fill","current-color"),v(i,"d",`M51.707,185.343c-2.741,0-5.493-1.044-7.593-3.149c-4.194-4.194-4.194-10.981,0-15.175
			l74.352-74.347L44.114,18.32c-4.194-4.194-4.194-10.987,0-15.175c4.194-4.194,10.987-4.194,15.18,0l81.934,81.934
			c4.194,4.194,4.194,10.987,0,15.175l-81.934,81.939C57.201,184.293,54.454,185.343,51.707,185.343z`),v(e,"height","16px"),v(e,"width","16px"),v(e,"viewBox","0 0 185.343 185.343"),v(e,"class","transition-[transform] transform ease-in-out duration-500 sm:duration-300 svelte-10tmcbu"),A(e,"rotate-y",u[0]),v(a,"class","toggle-btn svelte-10tmcbu"),v(c,"id","optimizeBtn"),v(c,"class","py-2"),v(B,"class","py-2"),v(E,"id","saveBtn"),v(E,"class","py-2"),v(n,"class","flex flex-col bg-white rounded-md"),v(p,"class","flex flex-col p-4 pr-0 gap-4 h-full svelte-10tmcbu"),v(t,"class","sidebar svelte-10tmcbu"),A(t,"open",!u[0])},m($,S){H($,t,S),x(t,a),x(a,e),x(e,l),x(l,i),x(t,y),x(t,p),x(p,n),x(n,c),x(n,f),x(n,h),x(n,b),x(n,B),x(n,r),x(n,d),x(n,k),x(n,E),x(p,_),m&&m.m(p,null),g=!0,D||(T=[F(a,"click",u[4]),F(B,"click",u[2])],D=!0)},p($,[S]){(!g||S&1)&&A(e,"rotate-y",$[0]),$[1].length?m?(m.p($,S),S&2&&j(m,1)):(m=ce($),m.c(),j(m,1),m.m(p,null)):m&&(ue(),R(m,1,1,()=>{m=null}),fe()),(!g||S&1)&&A(t,"open",!$[0])},i($){g||(j(m),g=!0)},o($){R(m),g=!1},d($){$&&w(t),m&&m.d(),D=!1,be(T)}}}function Re(u,t,a){let{cy:e}=t,l=!1,i=[];const y=()=>{const n=[],c=(o,_)=>{const g=o*Math.pow(10,_);return Number((Math.round(g)/Math.pow(10,_)).toFixed(_))},C=e.nodes(),f=e.$(),h=C.map(o=>{const _=f.dc({root:o,directed:!0});return{id:o.id(),in:_.indegree,out:_.outdegree}}).sort((o,_)=>o.id>_.id?1:-1);n.push({name:"Degree Centrality",values:h.map(o=>JSON.stringify(o))});const b=C.map(o=>{const _=f.dcn({directed:!0});return{id:o.id(),in:c(_.indegree(o),3),out:c(_.outdegree(o),3)}}).sort((o,_)=>o.id>_.id?1:-1);n.push({name:"Degree Centrality Normalized",values:b.map(o=>JSON.stringify(o))});const B=f.bc(),s=C.map(o=>({id:o.id(),bc:c(B.betweennessNormalized(o),3)})).sort((o,_)=>o.bc<_.bc?1:-1);n.push({name:"Betweeness Centrality Normalized",values:s.map(o=>JSON.stringify(o))});const r=f.ccn(),d=C.map(o=>({id:o.id(),cc:c(r.closeness(o),3)})).sort((o,_)=>o.cc<_.cc?1:-1);n.push({name:"Closeness Centrality Normalized",values:d.map(o=>JSON.stringify(o))});const k=e.elements().pageRank(),E=C.map(o=>({id:o.id(),pr:c(k.rank(o),3)})).sort((o,_)=>o.pr<_.pr?1:-1);n.push({name:"Page Rank",values:E.map(o=>JSON.stringify(o))}),a(1,i=n),e.resize()},p=()=>a(0,l=!l);return u.$$set=n=>{"cy"in n&&a(3,e=n.cy)},[l,i,y,e,p]}class Pe extends X{constructor(t){super(),Y(this,t,Re,je,G,{cy:3})}}function Ue(u){let t,a,e,l,i,y='<div class="fixed inset-0 bg-gray-500 bg-opacity-25 transition-opacity"></div> <div class="fixed inset-0 z-10 w-screen overflow-y-auto p-4 sm:p-6 md:p-20"><div class="mx-auto max-w-xl"><input id="cmd-palette-input" type="text" class="h-12 w-full border-0 bg-transparent px-4 py-4 text-gray-900 overflow-hidden rounded-xl bg-white shadow-2xl ring-1 ring-black ring-opacity-5 placeholder:text-gray-400 focus:ring-0 sm:text-sm" placeholder="Beschriftung" role="combobox" aria-expanded="false" aria-controls="options"/></div></div>',p;return e=new Pe({props:{cy:u[0]}}),{c(){t=L("div"),a=z(),me(e.$$.fragment),l=z(),i=L("div"),i.innerHTML=y,this.h()},l(n){t=N(n,"DIV",{id:!0,class:!0}),I(t).forEach(w),a=M(n),pe(e.$$.fragment,n),l=M(n),i=N(n,"DIV",{id:!0,class:!0,role:!0,"aria-modal":!0,"data-svelte-h":!0}),J(i)!=="svelte-1meetpw"&&(i.innerHTML=y),this.h()},h(){v(t,"id","cy-container"),v(t,"class","w-full h-full overflow-x-clip"),v(i,"id","cmd-palette"),v(i,"class","hidden relative z-10"),v(i,"role","dialog"),v(i,"aria-modal","true")},m(n,c){H(n,t,c),H(n,a,c),he(e,n,c),H(n,l,c),H(n,i,c),p=!0},p(n,[c]){const C={};c&1&&(C.cy=n[0]),e.$set(C)},i(n){p||(j(e.$$.fragment,n),p=!0)},o(n){R(e.$$.fragment,n),p=!1},d(n){n&&(w(t),w(a),w(l),w(i)),ge(e,n)}}}function Ae(u,t,a){let e;const l={"1 Louisa":[0,1,0,0,0,0,0,0,0,0,0,0,0],"2 Peter":[1,0,0,0,0,0,0,0,0,0,0,0,0],"3 Frederic":[0,1,0,0,0,0,1,0,0,0,0,0,0],"4 Idris":[0,0,1,0,0,0,1,1,0,0,0,0,0],"5 Anna":[0,0,0,1,0,0,0,1,0,0,0,0,0],"6 Beatrice":[0,0,0,1,0,0,1,0,1,0,0,0,0],"7 Davic":[0,0,0,0,0,1,0,0,0,0,1,0,0],"8 Eric":[0,0,0,0,0,0,1,0,0,1,1,0,0],"9 Cecilia":[0,0,0,0,0,1,0,0,0,0,0,0,1],"10 Johanna":[0,0,0,1,0,0,1,0,0,0,0,1,0],"11 Travis":[0,0,0,0,0,0,0,0,0,0,0,0,0],"12 Sadio":[0,0,0,0,0,0,0,0,0,1,0,0,0],"13 Hannah":[0,0,0,0,0,0,1,0,0,0,0,0,0]},i=Object.keys(l),y=i.reduce((s,r)=>(s[r]={},s),{}),n={edges:Object.entries(l).reduce((s,[r,d])=>(d.forEach((k,E)=>{k!==0&&(s[`${r}-${E+1}`]={sourceId:r,targetId:i[E],weight:1})}),s),{}),nodes:y};we(()=>{const s=document.getElementById("cy-container");s&&(a(0,e=De({initialElements:Te(n,Le(n,{container:s.getBoundingClientRect()})),container:s})),C(e),f(e),h(e),b(e))});const c=()=>{const s=document.getElementById("cmd-palette-input");s&&(s.value="")},C=s=>{const r="cmd-palette",d=document.getElementById(r);if(!d)throw new Error(`Missing cmd palette container with id: ${r}`);let k={x:0,y:0};document.body.addEventListener("mousemove",g=>{k={x:g.clientX,y:g.clientY}});const E=g=>{const D=s.pan(),T=s.zoom();return{x:(g.x-D.x)/T,y:(g.y-D.y)/T}},o={"cmd+a":()=>{d.classList.toggle("hidden",!1),d.classList.toggle("block",!0),document.getElementById("cmd-palette-input")?.focus()},Escape:()=>{d.classList.contains("hidden")||(d.classList.add("hidden"),d.classList.remove("block"),c())},del:()=>{s.elements("node:selected").forEach(T=>{s.remove(T.connectedEdges()),s.remove(T)}),s.elements("edge:selected").forEach(T=>{s.remove(T)})},Enter:()=>{if(d.classList.contains("hidden"))return;d.classList.add("hidden"),d.classList.remove("block");const g=document.getElementById("cmd-palette-input");if(!g)return;const D=g.value,T=E(k);s.add({group:"nodes",data:{id:D},position:T}),c()},"cmd+s":g=>{g.preventDefault();const D=s.json().elements;le(D),B()}},_=({key:g,metaKey:D,ctrlKey:T})=>{let m="";return(D||T)&&(m+="cmd+"),m+=g,m=m.replace("Del","del"),m=m.replace("Delete","del"),m=m.replace("Backspace","del"),m=m.replace("Meta",""),m};document.addEventListener("keydown",g=>{const D=_(g),T=o[D];T&&T(g)}),document.addEventListener("click",g=>{const D=document.getElementById("cmd-palette-input");d&&D&&!D.contains(g.target)&&!d.classList.contains("hidden")&&(d.classList.add("hidden"),d.classList.remove("block"),c())})},f=s=>{let r=null,d=!1,k=null,E=null,o=null,_=null;s.on("mousedown","node",g=>{g.originalEvent.shiftKey&&(d=!0,k=g.target,k.ungrabify(),E=s.add({group:"nodes",data:{id:"ghost-node"},position:g.position,classes:["ghost-node"],style:{width:1,height:1,opacity:0}}),r=s.add({group:"edges",data:{id:"temp-edge",source:k.id(),target:E.id()},style:{"line-style":"dashed"},classes:["temporary-edge"]}),s.boxSelectionEnabled(!1))}),s.on("mousemove",g=>{const T=(m,$)=>{let S=m.position(),P=$.position();return Math.sqrt(Math.pow(S.x-P.x,2)+Math.pow(S.y-P.y,2))<30};if(d&&r){E.position(g.position);let m=s.nodes().filter($=>$.id()===k.id()||$.id()===E.id()?!1:T($,E)?(_&&_.id()&&_.id()===$.id()||(_=$,$.addClass("highlight")),!0):($.removeClass("highlight"),!1)).first();m.id()?o=m:(_=null,o=E)}}),s.on("mouseup",g=>{d&&r&&(o!==s&&o.isNode()&&s.add({group:"edges",data:{source:k.id(),target:o.id()}}),s.remove(E),k.grabify(),s.boxSelectionEnabled(!0),r.remove(),r=null,d=!1,k=null,_?.removeClass("highlight"),_=null)})},h=s=>{const r=document.getElementById("optimizeBtn");r&&(r.onclick=d=>{s.layout({name:"cola",animate:!1}).run()})},b=s=>{const r=document.getElementById("saveBtn");r.onclick=()=>{const d=s.json().elements;le(d),B()}},B=()=>{Be({message:"âœ… Erfolgreich gespeichert!"})};return[e]}class Ge extends X{constructor(t){super(),Y(this,t,Ae,Ue,G,{})}}export{Ge as component};
