import{s as Z,n as N,o as ee,r as te}from"../chunks/scheduler.z-Fn2YEz.js";import{S as le,i as ne,g as E,s as B,h as T,j as C,f as p,c as H,F as G,k as b,a as X,x as m,D as A,m as J,n as Q,o as V}from"../chunks/index.LcgsaHYT.js";import{e as z,u as O,d as $}from"../chunks/each.KMJNQlvo.js";function W(f,s,e){const l=f.slice();return l[10]=s[e],l}function I(f,s,e){const l=f.slice();return l[10]=s[e],l}function U(f,s,e){const l=f.slice();return l[10]=s[e],l}function j(f,s){let e,l=s[10]+"",o,i,g;return{key:f,first:null,c(){e=E("th"),o=J(l),this.h()},l(n){e=T(n,"TH",{class:!0});var d=C(e);o=Q(d,l),d.forEach(p),this.h()},h(){b(e,"class","svelte-1cnqeem"),this.first=e},m(n,d){X(n,e,d),m(e,o),i||(g=[A(e,"dblclick",s[1]),A(e,"blur",s[2]),A(e,"keydown",s[3])],i=!0)},p(n,d){s=n,d&1&&l!==(l=s[10]+"")&&V(o,l)},d(n){n&&p(e),i=!1,te(g)}}}function P(f,s){let e,l="0";return{key:f,first:null,c(){e=E("td"),e.textContent=l,this.h()},l(o){e=T(o,"TD",{contenteditable:!0,class:!0,"data-svelte-h":!0}),G(e)!=="svelte-6soq06"&&(e.textContent=l),this.h()},h(){b(e,"contenteditable","true"),b(e,"class","svelte-1cnqeem"),this.first=e},m(o,i){X(o,e,i)},p(o,i){},d(o){o&&p(e)}}}function Y(f,s){let e,l,o=s[10]+"",i,g,n=[],d=new Map,L,v=z(s[0]);const _=c=>c[10];for(let c=0;c<v.length;c+=1){let t=I(s,v,c),u=_(t);d.set(u,n[c]=P(u))}return{key:f,first:null,c(){e=E("tr"),l=E("td"),i=J(o),g=B();for(let c=0;c<n.length;c+=1)n[c].c();L=B(),this.h()},l(c){e=T(c,"TR",{});var t=C(e);l=T(t,"TD",{class:!0});var u=C(l);i=Q(u,o),u.forEach(p),g=H(t);for(let k=0;k<n.length;k+=1)n[k].l(t);L=H(t),t.forEach(p),this.h()},h(){b(l,"class","svelte-1cnqeem"),this.first=e},m(c,t){X(c,e,t),m(e,l),m(l,i),m(e,g);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);m(e,L)},p(c,t){s=c,t&1&&o!==(o=s[10]+"")&&V(i,o),t&1&&(v=z(s[0]),n=O(n,t,_,1,s,v,d,e,$,P,L,I))},d(c){c&&p(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function se(f){let s,e,l,o,i,g,n=[],d=new Map,L,v,_=[],c=new Map,t,u,k="+ New Col",q,D,y=z(f[0]);const M=r=>r[10];for(let r=0;r<y.length;r+=1){let a=U(f,y,r),h=M(a);d.set(h,n[r]=j(h,a))}let w=z(f[0]);const R=r=>r[10];for(let r=0;r<w.length;r+=1){let a=W(f,w,r),h=R(a);c.set(h,_[r]=Y(h,a))}return{c(){s=E("main"),e=E("table"),l=E("thead"),o=E("tr"),i=E("th"),g=B();for(let r=0;r<n.length;r+=1)n[r].c();L=B(),v=E("tbody");for(let r=0;r<_.length;r+=1)_[r].c();t=B(),u=E("button"),u.textContent=k,this.h()},l(r){s=T(r,"MAIN",{class:!0});var a=C(s);e=T(a,"TABLE",{cellpadding:!0,cellspacing:!0,unselectable:!0,role:!0,class:!0});var h=C(e);l=T(h,"THEAD",{});var F=C(l);o=T(F,"TR",{});var x=C(o);i=T(x,"TH",{class:!0}),C(i).forEach(p),g=H(x);for(let S=0;S<n.length;S+=1)n[S].l(x);x.forEach(p),F.forEach(p),L=H(h),v=T(h,"TBODY",{class:!0});var K=C(v);for(let S=0;S<_.length;S+=1)_[S].l(K);K.forEach(p),h.forEach(p),t=H(a),u=T(a,"BUTTON",{"data-svelte-h":!0}),G(u)!=="svelte-1303vn8"&&(u.textContent=k),a.forEach(p),this.h()},h(){b(i,"class","svelte-1cnqeem"),b(v,"class","svelte-1cnqeem"),b(e,"cellpadding","0"),b(e,"cellspacing","0"),b(e,"unselectable","on"),b(e,"role","grid"),b(e,"class","svelte-1cnqeem"),b(s,"class","resizing svelte-1cnqeem")},m(r,a){X(r,s,a),m(s,e),m(e,l),m(l,o),m(o,i),m(o,g);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(o,null);m(e,L),m(e,v);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(v,null);m(s,t),m(s,u),q||(D=A(u,"click",f[4]),q=!0)},p(r,[a]){a&15&&(y=z(r[0]),n=O(n,a,M,1,r,y,d,o,$,j,null,U)),a&1&&(w=z(r[0]),_=O(_,a,R,1,r,w,c,v,$,Y,null,W))},i:N,o:N,d(r){r&&p(s);for(let a=0;a<n.length;a+=1)n[a].d();for(let a=0;a<_.length;a+=1)_[a].d();q=!1,D()}}}function re(f,s,e){let l=[];for(let t=0;t<=10;t++)l.push(t);let o=!1,i=!1,g,n,d;return ee(()=>{document.querySelector("main")?.classList.remove("resizing"),document.querySelectorAll("th").forEach((k,q)=>{k.addEventListener("mousemove",function(D){if(o)return;const y=this.getBoundingClientRect(),M=y.right-D.clientX,w=D.clientX-y.left,R=8;i=M<R||w<R,this.style.cursor=i?"col-resize":"",d=w<R?q-1:q,d<0&&(d=0)})}),document.querySelectorAll("th").forEach(k=>{k.addEventListener("mousedown",function(q){i&&(o=!0,g=q.clientX,n=this.offsetWidth,document.querySelector("main")?.classList.add("resizing"),document.addEventListener("mousemove",t),document.addEventListener("mouseup",u))})});function t(k){const q=document.querySelector("table"),D=k.clientX-g;let y=n+D;y<0&&(y=0);for(let M of q.rows){let w=M.cells[d];w&&(w.style.width=y+"px")}}function u(){document.querySelector("main")?.classList.remove("resizing"),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",u),o=!1}}),[l,t=>{t.currentTarget&&(t.currentTarget.contentEditable="true",t.currentTarget.focus())},t=>{t.currentTarget&&(t.currentTarget.contentEditable="false")},t=>{t.currentTarget&&["Enter","Return"].includes(t.key)&&!t.shiftKey&&(t.preventDefault(),t.currentTarget.blur())},()=>e(0,l=[...l,l.length])]}class ie extends le{constructor(s){super(),ne(this,s,re,se,Z,{})}}export{ie as component};
