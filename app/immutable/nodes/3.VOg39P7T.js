import{s as kt,e as xt,h as pt,u as Mt,g as wt,f as Et,i as oe,d as Lt,r as qt,j as it,b as lt,k as gt,o as re,n as Kt}from"../chunks/scheduler.z-Fn2YEz.js";import{S as Ct,i as St,g as A,B as Ot,s as z,h as q,j as B,C as Tt,f as $,c as J,k as x,E as mt,a as G,x as N,A as H,d as W,t as Q,e as Bt,p as ae,b as le,F as ie,y as Dt,G as _t,r as ct,u as ut,v as ft,w as dt,D as at,m as Qt,n as Zt}from"../chunks/index.gVW8BMik.js";import{g as ce,i as ue,l as fe,s as de}from"../chunks/storage.MZbkbrJL.js";import{a as Nt,p as he}from"../chunks/store.8O7ZUhE7.js";const pe=e=>e.reduce((t,n)=>{const s=n.group(),r=n.id();return s==="nodes"?(t.graph.nodes[r]={},t.layout[r]=n.position()):s==="edges"&&(t.graph.edges[r]={sourceId:n.data().source,targetId:n.data().target,weight:n.data().weight||1}),t},{graph:{nodes:{},edges:{}},layout:{}}),It=(e,{container:{width:t,height:n}})=>Object.keys(e.nodes).reduce((s,r)=>(s[r]={x:Math.random()*t,y:Math.random()*n},s),{});var te={exports:{}};(function(e){(function(t,n,s){if(!t)return;for(var r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},i,f=1;f<20;++f)r[111+f]="f"+f;for(f=0;f<=9;++f)r[f+96]=f.toString();function u(c,d,w){if(c.addEventListener){c.addEventListener(d,w,!1);return}c.attachEvent("on"+d,w)}function g(c){if(c.type=="keypress"){var d=String.fromCharCode(c.which);return c.shiftKey||(d=d.toLowerCase()),d}return r[c.which]?r[c.which]:o[c.which]?o[c.which]:String.fromCharCode(c.which).toLowerCase()}function h(c,d){return c.sort().join(",")===d.sort().join(",")}function m(c){var d=[];return c.shiftKey&&d.push("shift"),c.altKey&&d.push("alt"),c.ctrlKey&&d.push("ctrl"),c.metaKey&&d.push("meta"),d}function v(c){if(c.preventDefault){c.preventDefault();return}c.returnValue=!1}function S(c){if(c.stopPropagation){c.stopPropagation();return}c.cancelBubble=!0}function D(c){return c=="shift"||c=="ctrl"||c=="alt"||c=="meta"}function M(){if(!i){i={};for(var c in r)c>95&&c<112||r.hasOwnProperty(c)&&(i[r[c]]=c)}return i}function j(c,d,w){return w||(w=M()[c]?"keydown":"keypress"),w=="keypress"&&d.length&&(w="keydown"),w}function E(c){return c==="+"?["+"]:(c=c.replace(/\+{2}/g,"+plus"),c.split("+"))}function p(c,d){var w,O,V,X=[];for(w=E(c),V=0;V<w.length;++V)O=w[V],l[O]&&(O=l[O]),d&&d!="keypress"&&a[O]&&(O=a[O],X.push("shift")),D(O)&&X.push(O);return d=j(O,X,d),{key:O,modifiers:X,action:d}}function _(c,d){return c===null||c===n?!1:c===d?!0:_(c.parentNode,d)}function L(c){var d=this;if(c=c||n,!(d instanceof L))return new L(c);d.target=c,d._callbacks={},d._directMap={};var w={},O,V=!1,X=!1,ot=!1;function rt(b){b=b||{};var I=!1,k;for(k in w){if(b[k]){I=!0;continue}w[k]=0}I||(ot=!1)}function et(b,I,k,C,P,Z){var T,R,st=[],tt=k.type;if(!d._callbacks[b])return[];for(tt=="keyup"&&D(b)&&(I=[b]),T=0;T<d._callbacks[b].length;++T)if(R=d._callbacks[b][T],!(!C&&R.seq&&w[R.seq]!=R.level)&&tt==R.action&&(tt=="keypress"&&!k.metaKey&&!k.ctrlKey||h(I,R.modifiers))){var ne=!C&&R.combo==P,se=C&&R.seq==C&&R.level==Z;(ne||se)&&d._callbacks[b].splice(T,1),st.push(R)}return st}function U(b,I,k,C){d.stopCallback(I,I.target||I.srcElement,k,C)||b(I,k)===!1&&(v(I),S(I))}d._handleKey=function(b,I,k){var C=et(b,I,k),P,Z={},T=0,R=!1;for(P=0;P<C.length;++P)C[P].seq&&(T=Math.max(T,C[P].level));for(P=0;P<C.length;++P){if(C[P].seq){if(C[P].level!=T)continue;R=!0,Z[C[P].seq]=1,U(C[P].callback,k,C[P].combo,C[P].seq);continue}R||U(C[P].callback,k,C[P].combo)}var st=k.type=="keypress"&&X;k.type==ot&&!D(b)&&!st&&rt(Z),X=R&&k.type=="keydown"};function y(b){typeof b.which!="number"&&(b.which=b.keyCode);var I=g(b);if(I){if(b.type=="keyup"&&V===I){V=!1;return}d.handleKey(I,m(b),b)}}function K(){clearTimeout(O),O=setTimeout(rt,1e3)}function F(b,I,k,C){w[b]=0;function P(tt){return function(){ot=tt,++w[b],K()}}function Z(tt){U(k,tt,b),C!=="keyup"&&(V=g(tt)),setTimeout(rt,10)}for(var T=0;T<I.length;++T){var R=T+1===I.length,st=R?Z:P(C||p(I[T+1]).action);Y(I[T],st,C,b,T)}}function Y(b,I,k,C,P){d._directMap[b+":"+k]=I,b=b.replace(/\s+/g," ");var Z=b.split(" "),T;if(Z.length>1){F(b,Z,I,k);return}T=p(b,k),d._callbacks[T.key]=d._callbacks[T.key]||[],et(T.key,T.modifiers,{type:T.action},C,b,P),d._callbacks[T.key][C?"unshift":"push"]({callback:I,modifiers:T.modifiers,action:T.action,seq:C,level:P,combo:b})}d._bindMultiple=function(b,I,k){for(var C=0;C<b.length;++C)Y(b[C],I,k)},u(c,"keypress",y),u(c,"keydown",y),u(c,"keyup",y)}L.prototype.bind=function(c,d,w){var O=this;return c=c instanceof Array?c:[c],O._bindMultiple.call(O,c,d,w),O},L.prototype.unbind=function(c,d){var w=this;return w.bind.call(w,c,function(){},d)},L.prototype.trigger=function(c,d){var w=this;return w._directMap[c+":"+d]&&w._directMap[c+":"+d]({},c),w},L.prototype.reset=function(){var c=this;return c._callbacks={},c._directMap={},c},L.prototype.stopCallback=function(c,d){var w=this;if((" "+d.className+" ").indexOf(" mousetrap ")>-1||_(d,w.target))return!1;if("composedPath"in c&&typeof c.composedPath=="function"){var O=c.composedPath()[0];O!==c.target&&(d=O)}return d.tagName=="INPUT"||d.tagName=="SELECT"||d.tagName=="TEXTAREA"||d.isContentEditable},L.prototype.handleKey=function(){var c=this;return c._handleKey.apply(c,arguments)},L.addKeycodes=function(c){for(var d in c)c.hasOwnProperty(d)&&(r[d]=c[d]);i=null},L.init=function(){var c=L(n);for(var d in c)d.charAt(0)!=="_"&&(L[d]=function(w){return function(){return c[w].apply(c,arguments)}}(d))},L.init(),t.Mousetrap=L,e.exports&&(e.exports=L),typeof s=="function"&&s.amd&&s(function(){return L})})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(te);var ge=te.exports;const nt=ce(ge),ht=(e,t)=>{const n=t.x-e.x,s=t.y-e.y,r=Math.sqrt(n*n+s*s);return r===0?{x:0,y:0}:{x:n/r,y:s/r}},ee=(e,t)=>{const n=t.x-e.x,s=t.y-e.y;return n*n+s*s},$t=(e,t)=>Math.sqrt(ee(e,t)),me=e=>JSON.parse(JSON.stringify(e)),yt=10,Rt=e=>{const t=me(e),n=Object.keys(t);for(let s=0;s<n.length;s++)for(let r=s+1;r<n.length;r++){const o=t[n[s]],a=t[n[r]],l=ee(o,a);if(l===0){o.x-=yt/2,a.x+=yt/2;continue}if(l<yt**2){const i=Math.sqrt(l),f=ht(o,a),u=(yt-i)/2;o.x-=f.x*u,o.y-=f.y*u,a.x+=f.x*u,a.y+=f.y*u}}return t},_e=.3,ye=.95,vt=50,Pt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Vt=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),ve=(e,t)=>({x:e*t.x,y:e*t.y}),be=(e,t)=>{const{container:n,maxIterations:s=50}=t,r=t.initialLayout||It(e,{container:n}),o=Rt(r),a=Math.sqrt(n.width*n.height)/Object.keys(o).length*.85;let l=_e;const i={};for(let f=0;f<s;f++)Object.keys(o).forEach(u=>i[u]={x:0,y:0}),Object.entries(o).forEach(([u,g])=>{Object.entries(o).forEach(([h,m])=>{if(u===h)return;const v=xe(g,m,a);i[u]=Vt(i[u],v),i[h]=Pt(i[h],v)})}),Object.values(e.edges).forEach(u=>{const g=Me(o[u.sourceId],o[u.targetId],a);i[u.sourceId]=Pt(i[u.sourceId],g),i[u.targetId]=Vt(i[u.targetId],g)}),Object.entries(o).forEach(([u,g])=>{const h=ve(l,i[u]);h.x=Math.max(-vt,Math.min(h.x,vt)),h.y=Math.max(-vt,Math.min(h.y,vt));const m=Pt(g,h);o[u]={x:Math.max(0,Math.min(m.x,n.width)),y:Math.max(0,Math.min(m.y,n.height))}}),l*=ye;return o},xe=(e,t,n)=>{const r=ht(e,t),o=n**2/Math.max($t(e,t),1e-4);return{x:o*r.x,y:o*r.y}},Me=(e,t,n)=>{const s=ht(e,t),r=$t(e,t)**2/n;return{x:r*s.x,y:r*s.y}},we=e=>{const t=Object.keys(e.nodes),n=t.length,s=Array.from({length:n},()=>Array(n).fill(1/0));for(const r in e.edges){const o=e.edges[r],a=t.indexOf(o.sourceId),l=t.indexOf(o.targetId);s[a][l]=o.weight}for(let r=0;r<n;r++)s[r][r]=0;for(let r=0;r<n;r++)for(let o=0;o<n;o++)for(let a=0;a<n;a++)s[o][r]+s[r][a]<s[o][a]&&(s[o][a]=s[o][r]+s[r][a]);return s},jt=1e-13,Ee=60,ke=(e,t)=>{const{container:n,maxIterations:s=1e3}=t,r=t.initialLayout||It(e,{container:n}),o=Rt(r),a=Object.keys(e.nodes).length;let l=we(e);const i=Math.sqrt(a);let f=Math.max(...l.flat().filter(isFinite));const u=Math.max(f>0?i/f:i,Ee);l=l.map(D=>D.map(M=>isFinite(M)?M:f));const g=a,h=l.map(D=>D.map(M=>u*M)),m=l.map(D=>D.map(M=>M===0?0:g/M**2)),v={};let S=0;for(const D in e.nodes)v[D]=S++;for(let D=0;D<s;D++){let M=0;for(const j in o){const E=v[j];let p=0,_=0,L=0,c=0,d=0;for(const et in o){if(j===et)continue;const U=v[et],y=o[j].x-o[et].x,K=o[j].y-o[et].y,F=Math.sqrt(y*y+K*K),Y=F*(y*y+K*K);p+=m[E][U]*(y-h[E][U]*y/F),_+=m[E][U]*(K-h[E][U]*K/F),L+=m[E][U]*(1-h[E][U]*K*K/Y),c+=m[E][U]*h[E][U]*y*K/Y,d+=m[E][U]*(1-h[E][U]*y*y/Y)}const w=L*d-c*c;if(Math.abs(w)<jt)continue;const O=Ce([[L,c],[c,d]],[p,_]);if(!O){console.error("No Solution");continue}const V=O[0],X=O[1];if(V*V+X*X<jt)continue;const ot=o[j].x-V,rt=o[j].y-X;o[j].x=Math.max(0,Math.min(ot,n.width))+(Math.random()-.5)*.001,o[j].y=Math.max(0,Math.min(rt,n.height))+(Math.random()-.5)*1e-4,M=Math.max(M,V*V+X*X)}if(M<jt)break}return o};function Ce(e,t){const n=e.length;if(!e.every(o=>o.length===n))throw new Error("Matrix A must be square.");if(t.length!==n)throw new Error("Length of vector b must match the dimensions of matrix A.");const s=e.map((o,a)=>[...o,t[a]]);for(let o=0;o<n;o++){let a=Math.abs(s[o][o]),l=o;for(let i=o+1;i<n;i++)Math.abs(s[i][o])>a&&(a=Math.abs(s[i][o]),l=i);if([s[o],s[l]]=[s[l],s[o]],s[o][o]===0)return null;for(let i=o+1;i<n;i++){const f=-s[i][o]/s[o][o];for(let u=o;u<n+1;u++)o===u?s[i][u]=0:s[i][u]+=f*s[o][u]}}const r=new Array(n).fill(0);for(let o=n-1;o>-1;o--){r[o]=s[o][n]/s[o][o];for(let a=o-1;a>-1;a--)s[a][n]-=s[a][o]*r[o]}return r}function Se(e){let t,n,s,r,o,a,l,i,f,u,g;const h=e[4].default,m=xt(h,e,e[3],null);return{c(){t=A("aside"),n=A("button"),s=Ot("svg"),r=Ot("g"),o=Ot("path"),l=z(),m&&m.c(),this.h()},l(v){t=q(v,"ASIDE",{class:!0});var S=B(t);n=q(S,"BUTTON",{class:!0});var D=B(n);s=Tt(D,"svg",{height:!0,width:!0,viewBox:!0,class:!0});var M=B(s);r=Tt(M,"g",{});var j=B(r);o=Tt(j,"path",{fill:!0,d:!0}),B(o).forEach($),j.forEach($),M.forEach($),D.forEach($),l=J(S),m&&m.l(S),S.forEach($),this.h()},h(){x(o,"fill","current-color"),x(o,"d",`M51.707,185.343c-2.741,0-5.493-1.044-7.593-3.149c-4.194-4.194-4.194-10.981,0-15.175
			l74.352-74.347L44.114,18.32c-4.194-4.194-4.194-10.987,0-15.175c4.194-4.194,10.987-4.194,15.18,0l81.934,81.934
			c4.194,4.194,4.194,10.987,0,15.175l-81.934,81.939C57.201,184.293,54.454,185.343,51.707,185.343z`),x(s,"height","16px"),x(s,"width","16px"),x(s,"viewBox","0 0 185.343 185.343"),x(s,"class","transition-[transform] transform ease-in-out duration-500 sm:duration-300 svelte-sde3ur"),mt(s,"rotate-y",e[2]&&e[0]==="left"||!e[2]&&e[0]==="right"),x(n,"class",a=pt(`toggle-btn ${e[0]}`)+" svelte-sde3ur"),x(t,"class",i=pt(`side-panel ${e[0]}`)+" svelte-sde3ur"),mt(t,"open",e[2])},m(v,S){G(v,t,S),N(t,n),N(n,s),N(s,r),N(r,o),N(t,l),m&&m.m(t,null),f=!0,u||(g=H(n,"click",e[5]),u=!0)},p(v,[S]){(!f||S&5)&&mt(s,"rotate-y",v[2]&&v[0]==="left"||!v[2]&&v[0]==="right"),(!f||S&1&&a!==(a=pt(`toggle-btn ${v[0]}`)+" svelte-sde3ur"))&&x(n,"class",a),m&&m.p&&(!f||S&8)&&Mt(m,h,v,v[3],f?Et(h,v[3],S,null):wt(v[3]),null),(!f||S&1&&i!==(i=pt(`side-panel ${v[0]}`)+" svelte-sde3ur"))&&x(t,"class",i),(!f||S&5)&&mt(t,"open",v[2])},i(v){f||(W(m,v),f=!0)},o(v){Q(m,v),f=!1},d(v){v&&$(t),m&&m.d(v),u=!1,g()}}}function Ie(e,t,n){let{$$slots:s={},$$scope:r}=t,{position:o="left"}=t,a=!1;const l=()=>{n(2,a=!a)},i=()=>l();return e.$$set=f=>{"position"in f&&n(0,o=f.position),"$$scope"in f&&n(3,r=f.$$scope)},[o,l,a,r,s,i]}class Ut extends Ct{constructor(t){super(),St(this,t,Ie,Se,kt,{position:0,toggle:1})}get toggle(){return this.$$.ctx[1]}}const $e=e=>{let t=null,n=!1,s=null,r=null,o=null,a=null;e.on("mousedown","node",l=>{l.originalEvent.shiftKey&&(n=!0,s=l.target,s.ungrabify(),r=e.add({group:"nodes",data:{id:"ghost-node"},position:l.position,classes:["ghost-node"],style:{width:1,height:1,opacity:0}}),t=e.add({group:"edges",data:{id:"temp-edge",source:s.id(),target:r.id(),weight:1},style:{"line-style":"dashed"},classes:["temporary-edge"]}),e.boxSelectionEnabled(!1))}),e.on("mousemove",l=>{const f=(u,g)=>{let h=u.position(),m=g.position();return Math.sqrt(Math.pow(h.x-m.x,2)+Math.pow(h.y-m.y,2))<30};if(n&&t){r.position(l.position);let u=e.nodes().filter(g=>g.id()===s.id()||g.id()===r.id()?!1:f(g,r)?(a&&a.id()&&a.id()===g.id()||(a=g,g.addClass("highlight")),!0):(g.removeClass("highlight"),!1)).first();u.id()?o=u:(a=null,o=r)}}),e.on("mouseup",l=>{n&&t&&(o!==e&&o.isNode()&&e.add({group:"edges",data:{source:s.id(),target:o.id(),weight:1}}),e.remove(r),s.grabify(),e.boxSelectionEnabled(!0),t.remove(),t=null,n=!1,s=null,a?.removeClass("highlight"),a=null)})},Le=.3,Oe=.95,bt=50,At=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Xt=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Te=(e,t)=>({x:e*t.x,y:e*t.y}),De=(e,t)=>{const{container:n,maxIterations:s=100}=t,r=t.initialLayout||It(e,{container:n}),o=Rt(r),a=Math.sqrt(n.width*n.height)/Object.keys(o).length*.85;let l=Le;const i={};for(let f=0;f<s;f++)Object.keys(o).forEach(u=>i[u]={x:0,y:0}),Object.entries(o).forEach(([u,g])=>{Object.entries(o).forEach(([h,m])=>{if(u===h)return;const v=Ne(g,m,a);i[u]=Xt(i[u],v),i[h]=At(i[h],v)})}),Object.values(e.edges).forEach(u=>{const g=Pe(o[u.sourceId],o[u.targetId],a,u.weight);i[u.sourceId]=At(i[u.sourceId],g),i[u.targetId]=Xt(i[u.targetId],g)}),Object.entries(o).forEach(([u,g])=>{const h=Te(l,i[u]);h.x=Math.max(-bt,Math.min(h.x,bt)),h.y=Math.max(-bt,Math.min(h.y,bt));const m=At(g,h);o[u]={x:Math.max(0,Math.min(m.x,n.width)),y:Math.max(0,Math.min(m.y,n.height))}}),l*=Oe;return o},Ne=(e,t,n)=>{const r=ht(e,t),o=n**2/Math.max($t(e,t),1e-4);return{x:o*r.x,y:o*r.y}},Pe=(e,t,n,s)=>{const r=ht(e,t),o=.5*s*$t(e,t)**2/n;return{x:o*r.x,y:o*r.y}},Ft=e=>{let t=e.length,n=0,s=0,r=0,o=0;for(let i of e)n+=i.x,s+=i.y,r+=i.x*i.y,o+=i.x**2;let a=(t*r-n*s)/(t*o-n**2),l=(s-a*n)/t;return{slope:a,intercept:l}},je=(e,t,n)=>{let s=0,r=0,o=e.reduce((a,l)=>a+l.y,0)/e.length;for(let a of e)s+=(a.y-o)**2,r+=(a.y-(t*a.x+n))**2;return 1-r/s},Ae=(e,t)=>{if(e===0)return{x:t,y:0};let n=-1/e,s=Math.sqrt(1+n**2);return{x:t/s,y:t*n/s}},qe=(e,t,n)=>t===1/0||t===-1/0?e.y:(e.y-n)/t,Ke=(e,t,n,s,r)=>{if(!t[n])return[];let o=t[n],a=[],l=[];if(Object.values(e.edges).forEach(h=>{h.sourceId===n&&t[h.targetId]?(l.push(t[h.targetId]),a.push(h.targetId)):h.targetId===n&&t[h.sourceId]&&(l.push(t[h.sourceId]),a.push(h.sourceId))}),l=l.slice(0,s),a=a.slice(0,s),l.length<2)return[];let i=[o,...l],{slope:f,intercept:u}=Ft(i);return je(i,f,u)>=r?[n,...a]:[]},Re=(e,t,n)=>{e[t]={x:e[t].x+n.x,y:e[t].y+n.y}},Yt=(e,t)=>{if(e.length<=1)return e;let n=e.map(a=>t[a]),{slope:s,intercept:r}=Ft(n),o=e.map(a=>({nodeId:a,projection:qe(t[a],s,r)}));return o.sort((a,l)=>a.projection-l.projection),o.map(a=>a.nodeId)},Fe=(e,t,n,s)=>{let r=[];Object.keys(e.nodes).forEach(a=>{let l=Ke(e,t,a,n,s);l.length>0&&r.push(Yt(l,t))});let o=[];return r.forEach(a=>{let l=o.find(i=>i.some(f=>a.includes(f)));if(l){let i=[...new Set([...l,...a])];o=o.filter(f=>f!==l),o.push(Yt(i,t))}else o.push(a)}),o},Be=e=>({}),Gt=e=>({}),Ve=e=>({}),Ht=e=>({});function zt(e){let t,n,s,r,o,a,l,i,f,u,g,h,m,v,S;const D=e[3].body,M=xt(D,e,e[2],Ht),j=e[3].footer,E=xt(j,e,e[2],Gt);return{c(){t=A("div"),n=A("div"),r=z(),o=A("div"),a=A("div"),l=A("div"),i=A("div"),M&&M.c(),f=z(),u=A("div"),E&&E.c(),this.h()},l(p){t=q(p,"DIV",{class:!0,"aria-labelledby":!0,role:!0,"aria-modal":!0});var _=B(t);n=q(_,"DIV",{class:!0}),B(n).forEach($),r=J(_),o=q(_,"DIV",{class:!0});var L=B(o);a=q(L,"DIV",{class:!0});var c=B(a);l=q(c,"DIV",{class:!0});var d=B(l);i=q(d,"DIV",{class:!0});var w=B(i);M&&M.l(w),w.forEach($),f=J(d),u=q(d,"DIV",{class:!0});var O=B(u);E&&E.l(O),O.forEach($),d.forEach($),c.forEach($),L.forEach($),_.forEach($),this.h()},h(){x(n,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"),x(i,"class","bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4 mt-3 text-center sm:mt-0 sm:text-left"),x(u,"class","bg-gray-50 px-4 py-3 sm:flex sm:px-6 sm:gap-x-3"),x(l,"class","relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"),x(a,"class","flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"),x(o,"class","fixed inset-0 z-10 w-screen overflow-y-auto"),x(t,"class","relative z-20"),x(t,"aria-labelledby","modal-title"),x(t,"role","dialog"),x(t,"aria-modal","true")},m(p,_){G(p,t,_),N(t,n),N(t,r),N(t,o),N(o,a),N(a,l),N(l,i),M&&M.m(i,null),N(l,f),N(l,u),E&&E.m(u,null),m=!0,v||(S=[H(l,"click",ie(e[4])),H(t,"click",function(){oe(e[1])&&e[1].apply(this,arguments)})],v=!0)},p(p,_){e=p,M&&M.p&&(!m||_&4)&&Mt(M,D,e,e[2],m?Et(D,e[2],_,Ve):wt(e[2]),Ht),E&&E.p&&(!m||_&4)&&Mt(E,j,e,e[2],m?Et(j,e[2],_,Be):wt(e[2]),Gt)},i(p){m||(p&&(s||Lt(()=>{s=Dt(n,Nt,{duration:80}),s.start()})),W(M,p),W(E,p),p&&(g||Lt(()=>{g=Dt(o,Nt,{duration:80}),g.start()})),p&&(h||Lt(()=>{h=Dt(t,Nt,{duration:80}),h.start()})),m=!0)},o(p){Q(M,p),Q(E,p),m=!1},d(p){p&&$(t),M&&M.d(p),E&&E.d(p),v=!1,qt(S)}}}function Ue(e){let t,n,s=e[0]&&zt(e);return{c(){s&&s.c(),t=Bt()},l(r){s&&s.l(r),t=Bt()},m(r,o){s&&s.m(r,o),G(r,t,o),n=!0},p(r,[o]){r[0]?s?(s.p(r,o),o&1&&W(s,1)):(s=zt(r),s.c(),W(s,1),s.m(t.parentNode,t)):s&&(ae(),Q(s,1,1,()=>{s=null}),le())},i(r){n||(W(s),n=!0)},o(r){Q(s),n=!1},d(r){r&&$(t),s&&s.d(r)}}}function Xe(e,t,n){let{$$slots:s={},$$scope:r}=t,{showModal:o}=t,{toggleModal:a}=t;function l(i){it.call(this,e,i)}return e.$$set=i=>{"showModal"in i&&n(0,o=i.showModal),"toggleModal"in i&&n(1,a=i.toggleModal),"$$scope"in i&&n(2,r=i.$$scope)},[o,a,r,s,l]}class Ye extends Ct{constructor(t){super(),St(this,t,Xe,Ue,kt,{showModal:0,toggleModal:1})}}function Ge(e){let t,n,s,r;const o=e[4].default,a=xt(o,e,e[3],null);return{c(){t=A("button"),a&&a.c(),this.h()},l(l){t=q(l,"BUTTON",{type:!0,class:!0});var i=B(t);a&&a.l(i),i.forEach($),this.h()},h(){x(t,"type","button"),x(t,"class",e[0])},m(l,i){G(l,t,i),a&&a.m(t,null),n=!0,s||(r=[H(t,"click",e[5]),H(t,"mouseover",e[6]),H(t,"mouseenter",e[7]),H(t,"mouseleave",e[8])],s=!0)},p(l,[i]){a&&a.p&&(!n||i&8)&&Mt(a,o,l,l[3],n?Et(o,l[3],i,null):wt(l[3]),null),(!n||i&1)&&x(t,"class",l[0])},i(l){n||(W(a,l),n=!0)},o(l){Q(a,l),n=!1},d(l){l&&$(t),a&&a.d(l),s=!1,qt(r)}}}function He(e,t,n){let s,{$$slots:r={},$$scope:o}=t,{variant:a="primary"}=t,{intent:l="none"}=t;function i(h){it.call(this,e,h)}function f(h){it.call(this,e,h)}function u(h){it.call(this,e,h)}function g(h){it.call(this,e,h)}return e.$$set=h=>{"variant"in h&&n(1,a=h.variant),"intent"in h&&n(2,l=h.intent),"$$scope"in h&&n(3,o=h.$$scope)},e.$$.update=()=>{e.$$.dirty&6&&n(0,s=`inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold shadow-sm sm:w-auto transition-colors 
      ${a==="primary"?"bg-blue-600 text-white hover:bg-blue-500":""}
      ${a==="secondary"?"text-gray-900 ring-1 ring-gray-300 hover:bg-gray-100":""}
      ${l==="success"?"border-green-500":""}
      ${l==="danger"?"border-red-500":""}
      ${l==="warning"?"border-yellow-500":""}`)},[s,a,l,o,r,i,f,u,g]}class Jt extends Ct{constructor(t){super(),St(this,t,He,Ge,kt,{variant:1,intent:2})}}function ze(e){let t,n,s,r="Node Label",o,a;return{c(){t=A("form"),n=A("div"),s=A("label"),s.textContent=r,o=z(),a=A("input"),this.h()},l(l){t=q(l,"FORM",{class:!0});var i=B(t);n=q(i,"DIV",{class:!0});var f=B(n);s=q(f,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),at(s)!=="svelte-aqzoii"&&(s.textContent=r),o=J(f),a=q(f,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),f.forEach($),i.forEach($),this.h()},h(){x(s,"for","node-label"),x(s,"class","block text-sm font-medium leading-6 text-gray-900"),x(a,"type","text"),x(a,"name","node-label"),x(a,"id","node-label"),x(a,"class","mousetrap block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),x(a,"placeholder","Davic"),x(n,"class","flex flex-col gap-y-1"),x(t,"class","mt-2")},m(l,i){G(l,t,i),N(t,n),N(n,s),N(n,o),N(n,a),e[11](a)},p:Kt,d(l){l&&$(t),e[11](null)}}}function Je(e){let t;return{c(){t=Qt("Speichern")},l(n){t=Zt(n,"Speichern")},m(n,s){G(n,t,s)},d(n){n&&$(t)}}}function We(e){let t;return{c(){t=Qt("Abbrechen")},l(n){t=Zt(n,"Abbrechen")},m(n,s){G(n,t,s)},d(n){n&&$(t)}}}function Qe(e){let t,n,s,r;return t=new Jt({props:{$$slots:{default:[Je]},$$scope:{ctx:e}}}),t.$on("click",e[9]),s=new Jt({props:{variant:"secondary",$$slots:{default:[We]},$$scope:{ctx:e}}}),s.$on("click",e[10]),{c(){ct(t.$$.fragment),n=z(),ct(s.$$.fragment)},l(o){ut(t.$$.fragment,o),n=J(o),ut(s.$$.fragment,o)},m(o,a){ft(t,o,a),G(o,n,a),ft(s,o,a),r=!0},p(o,a){const l={};a&1073741824&&(l.$$scope={dirty:a,ctx:o}),t.$set(l);const i={};a&1073741824&&(i.$$scope={dirty:a,ctx:o}),s.$set(i)},i(o){r||(W(t.$$.fragment,o),W(s.$$.fragment,o),r=!0)},o(o){Q(t.$$.fragment,o),Q(s.$$.fragment,o),r=!1},d(o){o&&$(n),dt(t,o),dt(s,o)}}}function Ze(e){let t,n="Left Panel";return{c(){t=A("div"),t.textContent=n,this.h()},l(s){t=q(s,"DIV",{class:!0,"data-svelte-h":!0}),at(t)!=="svelte-1yxmhp8"&&(t.textContent=n),this.h()},h(){x(t,"class","w-full h-full bg-white")},m(s,r){G(s,t,r)},p:Kt,d(s){s&&$(t)}}}function tn(e){let t,n,s,r="Random Layout",o,a,l="Cola",i,f,u="Fruchterman & Reingold",g,h,m="Scaled Fruchterman & Reingold",v,S,D="Kamada Kawai",M,j;return{c(){t=A("div"),n=A("div"),s=A("button"),s.textContent=r,o=z(),a=A("button"),a.textContent=l,i=z(),f=A("button"),f.textContent=u,g=z(),h=A("button"),h.textContent=m,v=z(),S=A("button"),S.textContent=D,this.h()},l(E){t=q(E,"DIV",{class:!0});var p=B(t);n=q(p,"DIV",{class:!0});var _=B(n);s=q(_,"BUTTON",{class:!0,"data-svelte-h":!0}),at(s)!=="svelte-1mc77fm"&&(s.textContent=r),o=J(_),a=q(_,"BUTTON",{class:!0,"data-svelte-h":!0}),at(a)!=="svelte-ijy8o5"&&(a.textContent=l),i=J(_),f=q(_,"BUTTON",{class:!0,"data-svelte-h":!0}),at(f)!=="svelte-19iltcm"&&(f.textContent=u),g=J(_),h=q(_,"BUTTON",{class:!0,"data-svelte-h":!0}),at(h)!=="svelte-rd6oal"&&(h.textContent=m),v=J(_),S=q(_,"BUTTON",{class:!0,"data-svelte-h":!0}),at(S)!=="svelte-tqwtfe"&&(S.textContent=D),_.forEach($),p.forEach($),this.h()},h(){x(s,"class","py-2"),x(a,"class","py-2"),x(f,"class","py-2"),x(h,"class","py-2"),x(S,"class","py-2"),x(n,"class","flex flex-col bg-white rounded-md divide-y divide-gray-100"),x(t,"class","p-4 pl-0")},m(E,p){G(E,t,p),N(t,n),N(n,s),N(n,o),N(n,a),N(n,i),N(n,f),N(n,g),N(n,h),N(n,v),N(n,S),M||(j=[H(s,"click",e[15]),H(a,"click",e[16]),H(f,"click",e[17]),H(h,"click",e[18]),H(S,"click",e[19])],M=!0)},p:Kt,d(E){E&&$(t),M=!1,qt(j)}}}function en(e){let t,n,s,r,o,a,l,i,f,u,g,h;function m(p){e[12](p)}function v(p){e[13](p)}let S={$$slots:{footer:[Qe],body:[ze]},$$scope:{ctx:e}};e[6]!==void 0&&(S.toggleModal=e[6]),e[5]!==void 0&&(S.showModal=e[5]),s=new Ye({props:S}),lt.push(()=>_t(s,"toggleModal",m)),lt.push(()=>_t(s,"showModal",v));function D(p){e[14](p)}let M={position:"left",$$slots:{default:[Ze]},$$scope:{ctx:e}};e[2]!==void 0&&(M.toggle=e[2]),l=new Ut({props:M}),lt.push(()=>_t(l,"toggle",D));function j(p){e[20](p)}let E={position:"right",$$slots:{default:[tn]},$$scope:{ctx:e}};return e[3]!==void 0&&(E.toggle=e[3]),u=new Ut({props:E}),lt.push(()=>_t(u,"toggle",j)),{c(){t=A("div"),n=z(),ct(s.$$.fragment),a=z(),ct(l.$$.fragment),f=z(),ct(u.$$.fragment),this.h()},l(p){t=q(p,"DIV",{id:!0,class:!0}),B(t).forEach($),n=J(p),ut(s.$$.fragment,p),a=J(p),ut(l.$$.fragment,p),f=J(p),ut(u.$$.fragment,p),this.h()},h(){x(t,"id","cy-container"),x(t,"class","w-full h-full overflow-x-clip")},m(p,_){G(p,t,_),e[8](t),G(p,n,_),ft(s,p,_),G(p,a,_),ft(l,p,_),G(p,f,_),ft(u,p,_),h=!0},p(p,[_]){const L={};_&1073741840&&(L.$$scope={dirty:_,ctx:p}),!r&&_&64&&(r=!0,L.toggleModal=p[6],gt(()=>r=!1)),!o&&_&32&&(o=!0,L.showModal=p[5],gt(()=>o=!1)),s.$set(L);const c={};_&1073741824&&(c.$$scope={dirty:_,ctx:p}),!i&&_&4&&(i=!0,c.toggle=p[2],gt(()=>i=!1)),l.$set(c);const d={};_&1073741826&&(d.$$scope={dirty:_,ctx:p}),!g&&_&8&&(g=!0,d.toggle=p[3],gt(()=>g=!1)),u.$set(d)},i(p){h||(W(s.$$.fragment,p),W(l.$$.fragment,p),W(u.$$.fragment,p),h=!0)},o(p){Q(s.$$.fragment,p),Q(l.$$.fragment,p),Q(u.$$.fragment,p),h=!1},d(p){p&&($(t),$(n),$(a),$(f)),e[8](null),dt(s,p),dt(l,p),dt(u,p)}}}const Wt=64;function nn(e,t,n){let s,r,o,a,l,i=!1,f=()=>{if(i){const y=document.getElementById("cmd-palette-input");y&&(y.value="")}n(5,i=!i)};const u={randomLayout:It,fruchtermanReingold:be,kamadaKawai:ke,scaledFruchtermanReingold:De},g=y=>{const{graph:K,layout:F}=pe(r.elements());let Y=s.getBoundingClientRect();const b=u[y](K,{container:Y,initialLayout:F});return r.batch(()=>{r.nodes().forEach(I=>{const k=b[I.id()];k&&I.position(k)})}),y==="scaledFruchtermanReingold"&&(Object.values(K.edges).forEach(({weight:k})=>{}),Fe(K,F,3,.95).forEach(k=>{if(k.length>=3){let C=k.map(R=>F[R]),{slope:P}=Ft(C),T=Ae(P,30);k.forEach((R,st)=>{let tt=st%2===0?T:{x:-T.x,y:-T.y};Re(F,R,tt)})}}),r.batch(()=>{r.nodes().forEach(k=>{const C=F[k.id()];C&&k.position(C)})})),r.fit(void 0,Wt),b};let h={x:0,y:0};const m=y=>{const K=r.pan(),F=r.zoom();return{x:(y.x-K.x)/F,y:(y.y-K.y)/F}},v=y=>{y.preventDefault(),de(r.json().elements),he({message:"âœ… Erfolgreich gespeichert!"})},S=y=>{y.preventDefault(),f(),setTimeout(()=>l?.focus(),10)},D=y=>{i&&f()},M=y=>{if(y.preventDefault&&y.preventDefault(),!i)return;const K=document.getElementById("node-label");if(!K)return;const F=K.value;if(F){const Y=m(h);r.add({group:"nodes",data:{id:F},position:Y})}f()},j=y=>{r.elements("node:selected").forEach(Y=>{r.remove(Y.connectedEdges()),r.remove(Y)}),r.elements("edge:selected").forEach(Y=>{r.remove(Y)})},E=()=>{nt.bind("[",o),nt.bind("]",a),nt.bind("command+s",v),nt.bind("command+a",S),nt.bind("esc",D),nt.bind(["return","enter"],M),nt.bind(["delete","backspace"],j)};re(()=>{document.body.addEventListener("mousemove",y=>{h={x:y.clientX,y:y.clientY}}),s&&(n(1,r=ue({initialElements:fe(),container:s,layoutPadding:Wt})),E(),$e(r),a())});function p(y){lt[y?"unshift":"push"](()=>{s=y,n(0,s)})}const _=()=>nt.trigger("return"),L=()=>nt.trigger("esc");function c(y){lt[y?"unshift":"push"](()=>{l=y,n(4,l)})}function d(y){f=y,n(6,f)}function w(y){i=y,n(5,i)}function O(y){o=y,n(2,o)}const V=()=>g("randomLayout"),X=()=>r.layout({name:"cola",animate:!1}).run(),ot=()=>g("fruchtermanReingold"),rt=()=>g("scaledFruchtermanReingold"),et=()=>g("kamadaKawai");function U(y){a=y,n(3,a)}return[s,r,o,a,l,i,f,g,p,_,L,c,d,w,O,V,X,ot,rt,et,U]}class ln extends Ct{constructor(t){super(),St(this,t,nn,en,kt,{})}}export{ln as component};
