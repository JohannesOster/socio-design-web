import{s as ee,n as I,o as te,r as le}from"../chunks/scheduler.z-Fn2YEz.js";import{S as se,i as ne,g as b,s as A,h as L,j as q,f as k,c as D,F as K,k as E,a as B,x as v,D as $,m as Q,n as V,o as Z}from"../chunks/index.LcgsaHYT.js";import{e as x,u as F,d as O}from"../chunks/each.KMJNQlvo.js";function P(u,n,e){const t=u.slice();return t[11]=n[e],t}function U(u,n,e){const t=u.slice();return t[11]=n[e],t}function j(u,n,e){const t=u.slice();return t[11]=n[e],t}function Y(u,n){let e,t=n[11]+"",o,h,g;return{key:u,first:null,c(){e=b("th"),o=Q(t),this.h()},l(l){e=L(l,"TH",{class:!0});var d=q(e);o=V(d,t),d.forEach(k),this.h()},h(){E(e,"class","svelte-1te7sek"),this.first=e},m(l,d){B(l,e,d),v(e,o),h||(g=[$(e,"focus",n[1]),$(e,"blur",n[2])],h=!0)},p(l,d){n=l,d&1&&t!==(t=n[11]+"")&&Z(o,t)},d(l){l&&k(e),h=!1,le(g)}}}function G(u,n){let e,t="0";return{key:u,first:null,c(){e=b("td"),e.textContent=t,this.h()},l(o){e=L(o,"TD",{contenteditable:!0,class:!0,"data-svelte-h":!0}),K(e)!=="svelte-6soq06"&&(e.textContent=t),this.h()},h(){E(e,"contenteditable","true"),E(e,"class","svelte-1te7sek"),this.first=e},m(o,h){B(o,e,h)},p(o,h){},d(o){o&&k(e)}}}function J(u,n){let e,t,o=n[11]+"",h,g,l=[],d=new Map,y,m=x(n[0]);const _=i=>i[11];for(let i=0;i<m.length;i+=1){let r=U(n,m,i),a=_(r);d.set(a,l[i]=G(a))}return{key:u,first:null,c(){e=b("tr"),t=b("td"),h=Q(o),g=A();for(let i=0;i<l.length;i+=1)l[i].c();y=A(),this.h()},l(i){e=L(i,"TR",{});var r=q(e);t=L(r,"TD",{class:!0});var a=q(t);h=V(a,o),a.forEach(k),g=D(r);for(let S=0;S<l.length;S+=1)l[S].l(r);y=D(r),r.forEach(k),this.h()},h(){E(t,"class","svelte-1te7sek"),this.first=e},m(i,r){B(i,e,r),v(e,t),v(t,h),v(e,g);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);v(e,y)},p(i,r){n=i,r&1&&o!==(o=n[11]+"")&&Z(h,o),r&1&&(m=x(n[0]),l=F(l,r,_,1,n,m,d,e,O,G,y,U))},d(i){i&&k(e);for(let r=0;r<l.length;r+=1)l[r].d()}}}function oe(u){let n,e,t,o,h,g,l=[],d=new Map,y,m,_=[],i=new Map,r,a,S="+ New Col",p,T,C=x(u[0]);const w=s=>s[11];for(let s=0;s<C.length;s+=1){let c=j(u,C,s),f=w(c);d.set(f,l[s]=Y(f,c))}let M=x(u[0]);const z=s=>s[11];for(let s=0;s<M.length;s+=1){let c=P(u,M,s),f=z(c);i.set(f,_[s]=J(f,c))}return{c(){n=b("main"),e=b("table"),t=b("thead"),o=b("tr"),h=b("th"),g=A();for(let s=0;s<l.length;s+=1)l[s].c();y=A(),m=b("tbody");for(let s=0;s<_.length;s+=1)_[s].c();r=A(),a=b("button"),a.textContent=S,this.h()},l(s){n=L(s,"MAIN",{class:!0});var c=q(n);e=L(c,"TABLE",{cellpadding:!0,cellspacing:!0,unselectable:!0,role:!0,class:!0});var f=q(e);t=L(f,"THEAD",{});var N=q(t);o=L(N,"TR",{});var H=q(o);h=L(H,"TH",{class:!0}),q(h).forEach(k),g=D(H);for(let R=0;R<l.length;R+=1)l[R].l(H);H.forEach(k),N.forEach(k),y=D(f),m=L(f,"TBODY",{class:!0});var W=q(m);for(let R=0;R<_.length;R+=1)_[R].l(W);W.forEach(k),f.forEach(k),r=D(c),a=L(c,"BUTTON",{"data-svelte-h":!0}),K(a)!=="svelte-1303vn8"&&(a.textContent=S),c.forEach(k),this.h()},h(){E(h,"class","svelte-1te7sek"),E(m,"class","svelte-1te7sek"),E(e,"cellpadding","0"),E(e,"cellspacing","0"),E(e,"unselectable","on"),E(e,"role","grid"),E(e,"class","svelte-1te7sek"),E(n,"class","resizing svelte-1te7sek")},m(s,c){B(s,n,c),v(n,e),v(e,t),v(t,o),v(o,h),v(o,g);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null);v(e,y),v(e,m);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(m,null);v(n,r),v(n,a),p||(T=$(a,"click",u[3]),p=!0)},p(s,[c]){c&7&&(C=x(s[0]),l=F(l,c,w,1,s,C,d,o,O,Y,null,j)),c&1&&(M=x(s[0]),_=F(_,c,z,1,s,M,i,m,O,J,null,P))},i:I,o:I,d(s){s&&k(n);for(let c=0;c<l.length;c+=1)l[c].d();for(let c=0;c<_.length;c+=1)_[c].d();p=!1,T()}}}function X(u){document.querySelectorAll("th").forEach(e=>{e.contentEditable=`${u}`})}function ae(u,n,e){let t=[];for(let a=0;a<=10;a++)t.push(a);let o=!1,h=!1,g,l,d,y=!1,m;te(()=>{document.querySelector("main")?.classList.remove("resizing"),document.querySelectorAll("th").forEach((p,T)=>{p.addEventListener("mousemove",function(C){if(o)return;const w=this.getBoundingClientRect(),M=w.right-C.clientX,z=C.clientX-w.left,s=8;h=M<s||z<s,this.style.cursor=h?"col-resize":"",d=z<s?T-1:T,d<0&&(d=0)})}),document.querySelectorAll("th").forEach(p=>{p.addEventListener("mousedown",function(T){h&&(o=!0,g=T.clientX,l=this.offsetWidth,document.querySelector("main")?.classList.add("resizing"),document.addEventListener("mousemove",a),document.addEventListener("mouseup",S))})});function a(p){const T=document.querySelector("table"),C=p.clientX-g;let w=l+C;w<0&&(w=0);for(let M of T.rows){let z=M.cells[d];z&&(z.style.width=w+"px")}}function S(){document.querySelector("main")?.classList.remove("resizing"),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",S),o=!1}document.addEventListener("keydown",p=>{p.key==="Shift"&&(y=!0,X(!0))}),document.addEventListener("keyup",p=>{p.key==="Shift"&&(y=!1,m||X(!1))})});function _(a){m=a.target}function i(a){m=null,y||X(!1)}return[t,_,i,()=>e(0,t=[...t,t.length])]}class ue extends se{constructor(n){super(),ne(this,n,ae,oe,ee,{})}}export{ue as component};
