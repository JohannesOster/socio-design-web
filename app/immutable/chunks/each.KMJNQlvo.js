import{d as q,t as z}from"./index.LcgsaHYT.js";import{r as B}from"./scheduler.z-Fn2YEz.js";function E(t){return t?.length!==void 0?t:Array.from(t)}function F(t,d){t.d(1),d.delete(t.key)}function G(t,d){z(t,1,1,()=>{d.delete(t.key)})}function H(t,d,M,v,S,y,c,x,m,A,h,j){let i=t.length,a=y.length,o=i;const r={};for(;o--;)r[t[o].key]=o;const f=[],w=new Map,u=new Map,g=[];for(o=a;o--;){const e=j(S,y,o),n=M(e);let s=c.get(n);s?v&&g.push(()=>s.p(e,d)):(s=A(n,e),s.c()),w.set(n,f[o]=s),n in r&&u.set(n,Math.abs(o-r[n]))}const p=new Set,k=new Set;function _(e){q(e,1),e.m(x,h),c.set(e.key,e),h=e.first,a--}for(;i&&a;){const e=f[a-1],n=t[i-1],s=e.key,l=n.key;e===n?(h=e.first,i--,a--):w.has(l)?!c.has(s)||p.has(s)?_(e):k.has(l)?i--:u.get(s)>u.get(l)?(k.add(s),_(e)):(p.add(l),i--):(m(n,c),i--)}for(;i--;){const e=t[i];w.has(e.key)||m(e,c)}for(;a;)_(f[a-1]);return B(g),f}export{F as d,E as e,G as o,H as u};
